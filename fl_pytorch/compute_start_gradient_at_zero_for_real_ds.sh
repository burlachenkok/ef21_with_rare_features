#!/usr/bin/env bash

python run.py --rounds "2" --client-sampling-type "all" --global-lr "0" --global-optimiser "sgd" --global-weight-decay "0.0" --number-of-local-iters "1" --batch-size "500" --local-lr "0" --local-optimiser "sgd" --local-weight-decay "0.0" --dataset "phishing" --loss "logistic" --model "logistic" --use-pretrained --train-last-layer --metric "top_1_acc" --global-regulizer "none" --global-regulizer-alpha "0.0" --checkpoint-dir "../check_points" --do-not-save-eval-checkpoints --data-path "../data/" --compute-type "fp32" --gpu "-1" --num-workers-train "0" --num-workers-test "0" --deterministic --manual-init-seed "123" --manual-runtime-seed "456" --group-name "" --comment "" --hostname "desktop-n968j9a" --eval-every "1" --eval-async-threads "0" --save-async-threads "0" --threadpool-for-local-opt "0" --run-id "1_job_id_1683569750{now}" --algorithm "fedavg" --algorithm-options "internal_sgd:full-gradient,stepsize_multiplier:1,b_perurbation:0.0,remove_probability:0.0,reduce_samples_by:1.0" --logfile "../logs/1_log_1683569750.txt" --client-compressor "ident" --extra-track "full_gradient_norm_train,full_objective_value_train" --initialize-shifts-policy "zero" --wandb-key "" --wandb-project-name "" --loglevel "debug" --logfilter ".*" --out "phishing_start_grad_sqr.bin"

python run.py --rounds "2" --client-sampling-type "all" --global-lr "0" --global-optimiser "sgd" --global-weight-decay "0.0" --number-of-local-iters "1" --batch-size "500" --local-lr "0" --local-optimiser "sgd" --local-weight-decay "0.0" --dataset "mushrooms" --loss "logistic" --model "logistic" --use-pretrained --train-last-layer --metric "top_1_acc" --global-regulizer "none" --global-regulizer-alpha "0.0" --checkpoint-dir "../check_points" --do-not-save-eval-checkpoints --data-path "../data/" --compute-type "fp32" --gpu "-1" --num-workers-train "0" --num-workers-test "0" --deterministic --manual-init-seed "123" --manual-runtime-seed "456" --group-name "" --comment "" --hostname "desktop-n968j9a" --eval-every "1" --eval-async-threads "0" --save-async-threads "0" --threadpool-for-local-opt "0" --run-id "1_job_id_1683569750{now}" --algorithm "fedavg" --algorithm-options "internal_sgd:full-gradient,stepsize_multiplier:1,b_perurbation:0.0,remove_probability:0.0,reduce_samples_by:1.0" --logfile "../logs/1_log_1683569750.txt" --client-compressor "ident" --extra-track "full_gradient_norm_train,full_objective_value_train" --initialize-shifts-policy "zero" --wandb-key "" --wandb-project-name "" --loglevel "debug" --logfilter ".*" --out "mushrooms_start_grad_sqr.bin"

python run.py --rounds "2" --client-sampling-type "all" --global-lr "0" --global-optimiser "sgd" --global-weight-decay "0.0" --number-of-local-iters "1" --batch-size "500" --local-lr "0" --local-optimiser "sgd" --local-weight-decay "0.0" --dataset "a9a" --loss "logistic" --model "logistic" --use-pretrained --train-last-layer --metric "top_1_acc" --global-regulizer "none" --global-regulizer-alpha "0.0" --checkpoint-dir "../check_points" --do-not-save-eval-checkpoints --data-path "../data/" --compute-type "fp32" --gpu "-1" --num-workers-train "0" --num-workers-test "0" --deterministic --manual-init-seed "123" --manual-runtime-seed "456" --group-name "" --comment "" --hostname "desktop-n968j9a" --eval-every "1" --eval-async-threads "0" --save-async-threads "0" --threadpool-for-local-opt "0" --run-id "1_job_id_1683569750{now}" --algorithm "fedavg" --algorithm-options "internal_sgd:full-gradient,stepsize_multiplier:1,b_perurbation:0.0,remove_probability:0.0,reduce_samples_by:1.0" --logfile "../logs/1_log_1683569750.txt" --client-compressor "ident" --extra-track "full_gradient_norm_train,full_objective_value_train" --initialize-shifts-policy "zero" --wandb-key "" --wandb-project-name "" --loglevel "debug" --logfilter ".*" --out "a9a_start_grad_sqr.bin"

python run.py --rounds "2" --client-sampling-type "all" --global-lr "0" --global-optimiser "sgd" --global-weight-decay "0.0" --number-of-local-iters "1" --batch-size "500" --local-lr "0" --local-optimiser "sgd" --local-weight-decay "0.0" --dataset "w5a" --loss "logistic" --model "logistic" --use-pretrained --train-last-layer --metric "top_1_acc" --global-regulizer "none" --global-regulizer-alpha "0.0" --checkpoint-dir "../check_points" --do-not-save-eval-checkpoints --data-path "../data/" --compute-type "fp32" --gpu "-1" --num-workers-train "0" --num-workers-test "0" --deterministic --manual-init-seed "123" --manual-runtime-seed "456" --group-name "" --comment "" --hostname "desktop-n968j9a" --eval-every "1" --eval-async-threads "0" --save-async-threads "0" --threadpool-for-local-opt "0" --run-id "1_job_id_1683569750{now}" --algorithm "fedavg" --algorithm-options "internal_sgd:full-gradient,stepsize_multiplier:1,b_perurbation:0.0,remove_probability:0.0,reduce_samples_by:1.0" --logfile "../logs/1_log_1683569750.txt" --client-compressor "ident" --extra-track "full_gradient_norm_train,full_objective_value_train" --initialize-shifts-policy "zero" --wandb-key "" --wandb-project-name "" --loglevel "debug" --logfilter ".*" --out "w5a_start_grad_sqr.bin"
